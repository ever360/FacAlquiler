<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprobante de Pago Alquiler</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }

        .invoice-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        .header img {
            width: 35%;   
            height: auto;  
        }
       
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            margin: 10px 0;
            font-size: 24px;
            color: #333;
        }

        .details-section {
            margin-bottom: 40px;
        }

        .details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .details strong {
            font-weight: bold;
            color: #555;
        }

        .invoice-items table {
            width: 100%;
            border-collapse: collapse;
        }

        .invoice-items th, .invoice-items td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }

        .invoice-items th {
            background-color: #f0f0f0;
            color: #333;
        }

        .totals {
            margin-top: 20px;
            text-align: right;
        }

        .totals div {
            margin-bottom: 5px;
        }

        .totals strong {
            font-size: 18px;
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            color: #777;
        }

        .highlight {
            color: #4CAF50;
        }

        .divider {
            height: 1px;
            background-color: #ddd;
            margin: 20px 0;
        }

        /* Posiciona el botón de compartir en la parte superior izquierda */
        .btn-compartir {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .btn-compartir img {
            width: 50px;  /* Ajusta el tamaño del botón si es necesario */
            height: auto;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="invoice-container">
        <!-- Header -->
        <div class="header">
            <img src="https://www.appsheet.com:443/fsimage.png?appid=be67750f-26f2-4e6d-bd38-7eec4274557c&datasource=google&filename=DocId%3D1un6vo53RdpXR3bDWBZukZYeTr82qlzgv&signature=3f8c237df1c6e0828be7bce4129c517a3f8b271511b09a88e00de2b37bbc6735&tableprovider=google&userid=6502524" alt="Logo de la empresa">
            <h1>Comprobante de Pago</h1>
            <h1>ALQUILER</h1>
            <p>Fecha de emisión: <strong id="fechaPago">10 de Octubre, 2024</strong></p>
        </div>

        <!-- Información del arrendatario y arrendador -->
        <div class="details-section">
            <div class="details">
                <div>
                    <strong>Arrendador:</strong><br>
                    Ever Moncada<br>
                    Telefono: 3145842929<br>
                </div>
                <div>
                    <strong>Arrendatario:</strong><br>
                    <span id="nombreArrendatario"></span><br>
                    Teléfono: <span id="telefonoArrendatario"></span><br>
                    Dirección: <span id="direccionArrendatario"></span>
                </div>
            </div>

            <div class="details">
                <div>
                    <strong>Periodo de Alquiler:</strong><br>
                    Desde: <span id="fechaDesde"></span><br>
                    Hasta: <span id="fechaHasta"></span>
                </div>
                <div>
                    <strong>Método de Pago:</strong><br>
                    Transferencia Bancaria
                </div>
            </div>
        </div>

        <!-- Detalles del pago -->
        <div class="divider"></div>
        <div class="invoice-items">
            <h2>Detalles del Pago</h2>
            <table>
                <thead>
                    <tr>
                        <th>Descripción</th>
                        <th>Cantidad</th>
                        <th>Valor Unitario</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Alquiler del mes</td>
                        <td>1</td>
                        <td>$1,000,000</td>
                        <td>$1,000,000</td>
                    </tr>
                    <tr>
                        <td>Deposito</td>
                        <td>1</td>
                        <td>$200,000</td>
                        <td>$200,000</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Totales -->
        <div class="totals">
            <div>
                <strong>Subtotal:</strong> $1,250,000
            </div>
            <div>
                <strong>IVA (19%):</strong> 0
            </div>
            <div class="highlight">
                <strong>Total a Pagar:</strong> $1,487,500
            </div>
        </div>

        <div class="highlight">
            <strong>Proximo pago :</strong><br>
            FECHA<br>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Próximo pago.</p>
            <p>Gracias por su pago.</p>
        </div>
    </div>

    <!-- Botón de compartir en la parte superior izquierda -->
    <div class="btn-compartir" id="btnCompartir">
        <img src="https://raw.githubusercontent.com/ever360/FacAlquiler1/main/share-button-.png" alt="Botón Compartir">
    </div>

    <!-- Librería para convertir HTML a imagen -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

    <script>
        document.getElementById('btnCompartir').addEventListener('click', function() {
            const facturaElement = document.querySelector('.invoice-container');

            html2canvas(facturaElement).then(function(canvas) {
                canvas.toBlob(function(blob) {
                    const file = new File([blob], "factura.png", { type: "image/png" });

                    if (navigator.canShare && navigator.canShare({ files: [file] })) {
                        navigator.share({
                            files: [file],
                            title: 'Comprobante de Pago',
                            text: 'Aquí tienes tu comprobante de pago.',
                        })
                        .then(() => console.log('Compartido correctamente.'))
                        .catch((error) => console.log('Error al compartir:', error));
                    } else {
                        alert("Tu navegador no soporta la API de compartición.");
                    }
                });
            });
        });
    </script>
</body>
</html>

        
    <script>
        // Obtener los parámetros de la URL
        const params = new URLSearchParams(window.location.search);

        // Obtener los valores de los parámetros
        var boleto = params.has('boleto') ? params.get('boleto') : "boleto no especificado";
        var fechaPago = params.has('fechaPago') ? params.get('fechaPago') : "fechaPago no especificado";
        var cliente = params.has('cliente') ? params.get('cliente') : "Cliente no especificado";
        var telefono = params.has('telefono') ? params.get('telefono') : "telefono no especificado";
        var desde = params.has('desde') ? params.get('desde') : "Fecha no especificado";
        var hasta = params.has('hasta') ? params.get('hasta') : "Fecha no especificado";
        var nit_cedula = params.has('nit_cedula') ? params.get('nit_cedula') : "nit_cedula no especificado";
        var mes = params.has('mes') ? params.get('mes') : "Mes no especificado";
        var valor = params.has('valor') ? params.get('valor') : "$ 0";
        var abono = params.has('abono') ? params.get('abono') : "$ 0";
        var cancelar = params.has('cancelar') ? params.get('cancelar') : "$ 0";
        var totalPagar = params.has('totalPagar') ? params.get('totalPagar') : "$ 0";
        var valorPrestamo = params.has('valorPrestamo') ? params.get('valorPrestamo') : "$ 0";
        var valorAbono = params.has('valorAbono') ? params.get('valorAbono') : "$ 0";
        var saldoPendiente = params.has('saldoPendiente') ? params.get('saldoPendiente') : "$ 0";
        var proximoPago = params.has('proximoPago') ? params.get('proximoPago') : "Fecha no especificada";

        // Asignar los valores a los elementos HTML
        document.getElementById("boleto").textContent = boleto;
        document.getElementById("fechaPago").textContent = fechaPago;
        document.getElementById("cliente").textContent = cliente;
        document.getElementById("telefono").textContent = telefono;
        document.getElementById("desde").textContent = desde;
        document.getElementById("hasta").textContent = hasta;
        document.getElementById("nit_cedula").textContent = nit_cedula;
        document.getElementById("mes").textContent = mes;
        document.getElementById("valor").textContent = valor;
        document.getElementById("abono").textContent = abono;
        document.getElementById("cancelar").textContent = cancelar;
        document.getElementById("totalPagar").textContent = totalPagar;
        document.getElementById("valorPrestamo").textContent = valorPrestamo;
        document.getElementById("valorAbono").textContent = valorAbono;
        document.getElementById("saldoPendiente").textContent = saldoPendiente;
        document.getElementById("proximoPago").textContent = proximoPago;
    </script>
</body>
</html>

